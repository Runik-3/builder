package wikitext

import (
	"fmt"
	"testing"
)

func TestTokenizer(t *testing.T) {
	cases := [][]string{
		{"'''Akari au Raa''' was a [[Gold]], the progenitor of [[House Raa]], and one of the founders of the [[The Society|Society]].", ""},
		{"'''Achlys-9 '''is a deadly poison gas. It is used in executions and the quarantine of mines. [[Bryn]] was killed with this.\n[[hu:Akhlüsz-9]]\n[[es:Aclis-9]]\n[[Category:Materials]]", ""},
		//	{`#REDIRECT [[The Jackal]]`, ""},
		{"[[File:Agea During Terraforming.jpg|thumb|Agea during the terraforming of Mars]]\n<p class=\"MsoNormal\">'''Agea''' is the capital city of [[Mars]]. It is located in the [[Valles Marineris]], the largest canyon in the Solar System.  </p>\n\n<p class=\"MsoNormal\">The citadel of the [[ArchGovernor]], [[Nero au Augustus]], is located in Agea, as is the [[House Bellona]] family estate. Nero holds court within the city's Forum.</p>\n\n<p class=\"MsoNormal\">Described as beautiful but strange, life in the city is both fast and cheap. It is well known for its nightlife, with rooftop nightclubs, [[gravMixers]] and [[NoiseBubbles]].</p>\n\n<p class=\"MsoNormal\">Agea is home to the [[Agea Martial Club]], where [[Gold]]'s are able to duel and practice their fighting skills against their peers.</p>\n\n<p class=\"MsoNormal\">Once [[The Institute]] trials are complete, a grand festival is held in Agea to honour the newly graduated [[Peerless Scarred]].</p>\n\n== Gallery ==\n<gallery>\nFile:Agea mars 720 pce.jpg|Agea, Mars 720 PCE\nFile:Agea Dueling Club.jpg|A dueling club in Agea, 725 PCE\nFile:725 Agea Skyline at Night.jpg|The Agea skyline at night, 725 PCE\nFile:Agea Forum.jpg|Agea's Forum, 725 PCE\n</gallery>\n[[es:Agea]]\n[[hu:Égea]]\n[[Category:Locations]]\n[[Category:Cities]]", ""},
		//	{`{{Gold_Character\n|title1 =  [[File:Gold_Sigil.png|left|50px]] Ajax [[File:Gold_Sigil.png|right|50px]]\n|image1 =  Ajax.png \n|caption1 = \n|alias(es) = Storm Knight (as of 754 PCE)\n|gender = Male|age = ~23 (Dark Age)\n|novels = [[Dark Age]]\n|house = [[House Grimmus]]\n|parents = [[Aja au Grimmus]] (mother)\n\n[[Atlas au Raa]] (father)\n|occupation = Olympic Knight\n|superior(s) = Atalantia au Grimmus\n|subordinate(s) = [[Seneca au Cern]]|allies = [[Seneca au Cern]]<br>  \n[[Cicero au Votum]]<br>  \n[[Asmodeus au Carthii]]<br>  \n[[Scorpio au Votum]]<br>  \nScorpius au Falthe<br>  \n[[Lysander au Lune]]|enemies = [[Darrow O'Lykos]]<br>  \n[[Sevro au Barca]]<br>  \n[[Cassius au Bellona]]<br>  \n[[Virginia au Augustus]]<br>  \n[[Tongueless]]<br>  \n[[Lysander au Lune]] (formerly)|grandparents=[[Magnus au Grimmus]] (maternal grandfather)<br>\n[[Gaia au Raa]] (paternal grandmother)<br>\n[[Revus au Raa]] (paternal grandfather)\n|tier=[[Peerless Scarred]]|status=Deceased|aunt(s)=[[Atalantia au Grimmus]] (maternal aunt)<br>  \n[[Moira au Grimmus]] (maternal aunt)<br>  \n[[Vela au Raa]] (paternal aunt)<br>|uncle(s)=[[Romulus au Raa]] (paternal uncle)|cousin(s)=[[Diomedes au Raa]] (paternal cousin)|died=November 754 PCE}}\n'''Ajax au Grimmus''' is the son of [[Aja au Grimmus]] and [[Atlas au Raa]]. During the [[Solar War]], he served as the [[Olympic Knights|Storm Knight]] of the [[Society Remnant]].\n\n== Background ==\nAjax is the only child of Aja and Atlas. Their coupling was described as a \"loveless genetic union,\" orchestrated by [[Octavia au Lune]] as a genetic experiment to combine Aja and Atlas' genes. Octavia was initially disappointed with the outcome, as Ajax was an unimpressive child. He was mocked as a child for not living up to his parents' legacies.<ref name=\":0\">Dark Age, Ch. 4</ref>\n\n== Appearance ==\nAjax is described as having dark skin and \"violent amber\" eyes. He is taller than Aja was and has \"powerful shoulders.\" On his armor he wears the pelt of a pearl leopard.<ref name=\":0\" />\n\n== Personality ==\nPrideful and arrogant, Ajax must always get his way and will not stand by as his honor (perceived or otherwise) is challenged. He is quick to act and react, unafraid to make his emotions heard, but knows when and where to hold his tongue.\n\n== Involvement ==\n\n=== '''<u>Original Trilogy</u>''' ===\nAjax was absent from the original trilogy, however a conversation with Lysander references events in their childhood that occurred prior to the Gala Massacre in Golden Son, including a trip to Mercury that Ajax and his grandfather made while Atalantia was coming home from a tour of the Rim.\n\n=== '''<u>Solar War</u>''' ===\nIn 747 PCE, Ajax's aunt took him as a paramour shortly before his sixteenth birthday, having groomed him for it since he was a child.\n\nAt some point after Ajax's seventeenth birthday, he faced Darrow in a duel and cut off the fingers on the Reaper's left hand. \n\nAt some point during the war, Darrow cut off Ajax's nose during a duel.\n\n=== '''<u>Iron Gold</u>''' ===\nAjax's only appearance in ''Iron Gold'' was a nameless mention of Atalantia's lover holding a banner of war as the Society Remnant prepares for Darrow's [[Iron Rain]].\n\n=== '''<u>Dark Age</u>''' ===\nAt the start of [[Dark Age (Book Five)|Dark Age]], he is both the Storm Knight and a full Legate infantry commander.<ref name=\":0\" /> He and [[Kalindora au San]] are there to greet [[Lysander au Lune]], [[Diomedes au Raa]], and [[Seraphina au Raa]] on the ''[[Annihilo]]''. Ajax is initially skeptical of Lysander's identity and requires a DNA test and the answer to a question only Lysander would know before accepting Lysander back.<ref name=\":0\" /> Ajax then accompanies Lysander, Diomedes, and Seraphina in [[Atalantia au Grimmus]]' holo conference where she announces that Lysander is alive and the [[The Rim|Rim]] has proposed an alliance with the Society Remnant. Here, Ajax learns that Lysander was [[Cassius au Bellona|Cassius au Bellona's]] ward. It enrages Ajax that Lysander could have stayed with a traitor instead of returning to his family.<ref>Dark Age, Ch. 6</ref>\n\nLater, Lysander falls with Ajax in the [[Iron Rain]]. When [[Rhone ti Flavinius]] shows up to assist Lysander. Though he does not say anything, it is clear Ajax is worried about Lysander stealing power from him.\n\nWhen Lysander identifies the oncoming hypercane as a result of the [[Storm God|Storm Gods]], Ajax is initially skeptical they even exist, though is forced to come around when the storm hits. He and Lysander take shelter behind a tank. After the storm passes, Ajax, Lysander, [[Seneca au Cern]], Kalindora, Seraphina, and several other officers find shelter in the garage bay of an infantry transport. Here, Ajax suggests Lysander go shut down the Storm God and they part ways.<ref>Dark Age, Ch. 12</ref>\n\nAjax refuses to send help to Lysander, [[Cicero au Votum]], Kalindora, and Seraphina when they are ambushed by [[Darrow O'Lykos]].<ref name=\":1\">Dark Age, Ch. 16</ref> Later, Ajax sends a team of seven Iron Leopards to kill Lysander in exchange for a [[torchShip]] each.<ref>Dark Age, Ch. 39</ref> He appears again during [[the Long Night]], showing up after Darrow has retreated. Ajax and his officers head to the Mound to finish the job<ref>Dark Age, Ch. 87</ref>, though their attempts to kill Darrow ultimately fail. He is later seen at Lysander's [[Triumph]].<ref>Dark Age, Ch. 89</ref>\n\n=== '''<u>Light Bringer</u>''' ===\n\n== Relationships ==\n\n=== Lysander au Lune ===\nLysander and Ajax grew up together, and were close enough to consider each other brothers. Lysander remembers Ajax as \"the kind, generous brother who could never bridle either affection or fury.\"<ref name=\":0\" /> Though now that they are older, with years spent apart, their relationship has changed. Ajax is wary of Lysander coming in and taking power and fame from him.\n\nAjax recounts a time when he and Lysander were visiting [[Magnus au Grimmus]]' estate in New Sparta. Ajax \"looked forward to those winters on Grandfather's estate more than anything\"<ref name=\":1\" /> because there Lysander was not trying to impress anyone. At one point, Magnus took the both of them out hunting and told them to race back to the estate. Lysander went ahead, leaving Ajax behind despite Ajax begging him to stay. It took Ajax three days to get back on his own, and when he arrived, he was unwashed and therefore barred from eating at the dinner table. Lysander brought his food to Ajax behind the stables. However, instead of sharing it, he sat down and ate it in Ajax's presence, stating something to the effect of \"you really must work on your sense of direction, Ajax\". The prospect of being shown up by Lysander yet again, reignited Ajax's memory of that incident and the resentment tied to it.\n\n=== Atalantia au Grimmus ===\nAtalantia groomed Ajax into her own personal killer by giving him sexual favors in reward for killing traitors of the Society Remnant. The grooming started when Ajax was very young, and the sexual favors began when Ajax was fifteen. This resulted in Ajax becoming intensely loyal to Atalantia. She did this as revenge against Aja, whom she always detested.<ref>Dark Age, Ch. 59</ref>\n\n\n\n== Gallery ==\n<gallery>\nAjax-atlas-aja-by-savelaco-082320.jpg\nAjax-closeup-by-humandoesart.jpg\nAjax-by-humandoesart.jpg\nAjax-by-athena.jpg\nAjax-by-angela-tubbs.jpg\nAjax violetfeverdreams re.jpg\n</gallery>\n\n== Trivia ==\n\n* Lysander claims that \"scent has always been [Ajax's] favorite sense.\"<ref name=\":0\" />\n\n== References ==\n<references /><br />\n[[Category:Dark Age Characters]]\n[[Category:Males]]\n[[Category:Golds]]\n[[Category:Olympic Knights]]\n[[Category:Characters]]\n[[Category:Light Bringer Characters]]\n[[Category:Deceased]]`, ""},
	}

	for _, c := range cases {
		fmt.Println(tokenizer(c[0]))
		fmt.Println()
	}
}
